<EditInvoiceScreen>:
    name:"edit_invoice"
    inventory_panel: inventory_panel
    qty_count_label: qty_count_label
    summary_table: summary_table
    summary_quantity_label: summary_quantity_label
    summary_tags_label: summary_tags_label
    summary_subtotal_label: summary_subtotal_label
    summary_tax_label: summary_tax_label
    summary_discount_label: summary_discount_label
    summary_total_label: summary_total_label
    date_picker: date_picker
    colors_table_main: colors_table_main
    dryclean_tab: dryclean_tab
    laundry_tab: laundry_tab
    alterations_tab: alterations_tab
    household_tab: household_tab
    other_tab: other_tab
    dryclean_rv: dryclean_rv
    laundry_rv: laundry_rv
    alterations_rv: alterations_rv
    household_rv: household_rv
    other_rv: other_rv
    items_table_rv: items_table_rv
    on_enter: root.reset()
    on_pre_enter: root.attach()
    on_leave: root.detach()
    BoxLayout:
        orientation: 'vertical'
        GridLayout:
            size_hint: 1,0.1
            cols:12
            Label:
                id: qty_count_label
                markup:True
                text: '[color=ffffff]1[/color]'
            Button:
                markup: True
                on_release: root.set_qty(1)
                text: '[color=ffffff]1[/color]'
            Button:
                markup: True
                on_release: root.set_qty(2)
                text: '[color=ffffff]2[/color]'
            Button:
                markup: True
                on_release: root.set_qty(3)
                text: '[color=ffffff]3[/color]'
            Button:
                markup: True
                on_release: root.set_qty(4)
                text: '[color=ffffff]4[/color]'
            Button:
                markup: True
                on_release: root.set_qty(5)
                text: '[color=ffffff]5[/color]'
            Button:
                markup: True
                on_release: root.set_qty(6)
                text: '[color=ffffff]6[/color]'
            Button:
                markup: True
                on_release: root.set_qty(7)
                text: '[color=ffffff]7[/color]'
            Button:
                markup: True
                on_release: root.set_qty(8)
                text: '[color=ffffff]8[/color]'
            Button:
                markup: True
                on_release: root.set_qty(9)
                text: '[color=ffffff]9[/color]'
            Button:
                markup: True
                on_release: root.set_qty(0)
                text: '[color=ffffff]0[/color]'
            Button:
                markup: True
                on_release: root.set_qty('C')
                text: '[color=ffffff]C[/color]'
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1,0.9
            pos_hint: {'top':1}
            TabbedPanel:
                id: inventory_panel
                do_default_tab: False
                size_hint: 0.5,1

                TabbedPanelItem:
                    id: dryclean_tab
                    text: '[color=ffffff]Dry Clean[/color]'
                    markup: True
                    InventoryItemRecycleView:
                        id: dryclean_rv
                TabbedPanelItem:
                    id: laundry_tab
                    text: '[color=ffffff]Laundry[/color]'
                    markup: True
                    InventoryItemRecycleView:
                        id: laundry_rv
                TabbedPanelItem:
                    id: alterations_tab
                    text: '[color=ffffff]Alterations[/color]'
                    markup: True
                    InventoryItemRecycleView:
                        id: alterations_rv
                TabbedPanelItem:
                    id: household_tab
                    text: '[color=ffffff]Household[/color]'
                    markup: True
                    InventoryItemRecycleView:
                        id: household_rv
                TabbedPanelItem:
                    id: other_tab
                    text: '[color=ffffff]Other[/color]'
                    markup: True
                    InventoryItemRecycleView:
                        id: other_rv
            RelativeLayout:
                size_hint: 0.1,1
                ScrollView:
                    size_hint:(1,1)
                    pos_hint:{'top':1}
                    GridLayout:
                        cols:1
                        id:colors_table_main
                        row_force_default: True
                        row_default_height: sp(50)
                        size_hint_y:None
                        height: self.minimum_height

            BoxLayout:
                pos_hint:{'top':1}
                size_hint: 0.4,1
                orientation:'vertical'
                canvas.before:
                    Color:
                        rgba: .75, .75, .75, 0.3
                    Rectangle:
                        pos: self.pos
                        size: self.size
                GridLayout:
                    id: summary_table
                    height: self.minimum_height
                    cols:5
                    rows:1
                    size_hint: 1, 0.1
                    Label:
                        size_hint_x: 0.1
                        markup: True
                        text: "[color=000000][b]Type[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:

                        size_hint_x: 0.1
                        markup: True
                        text: "[color=000000][b]Qty[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:

                        size_hint_x: 0.5
                        markup: True
                        text: "[color=000000][b]Item[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        size_hint_x: 0.2
                        markup: True
                        text: "[color=000000][b]Subtotal[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        size_hint_x: 0.1
                        markup: True
                        text: "[color=000000][b]A.[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                RelativeLayout:
                    size_hint: 1, 0.7
                    pos_hint:{'top':1}

                    ItemsTableRecycleView:
                        id: items_table_rv
                        pos_hint:{'top':1}
                GridLayout:
                    pos_hint:{'bottom':1}
                    size_hint: 1, 0.2
                    cols:2
                    rows:6

                    Label:
                        padding_x:20
                        size_hint_y: '20sp'
                        size_hint_x: 0.8
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000][b]Qty[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        id: summary_quantity_label
                        size_hint_y: '20sp'
                        size_hint_x: 0.2
                        text_size: self.size
                        halign: 'left'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000]0[/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        padding_x:20
                        size_hint_y: '20sp'
                        size_hint_x: 0.8
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000][b]Tags[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        id: summary_tags_label
                        size_hint_y: '20sp'
                        size_hint_x: 0.2
                        text_size: self.size
                        halign: 'left'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000]0[/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        padding_x:20
                        size_hint_y: '20sp'
                        size_hint_x: 0.8
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000][b]Subtotal[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        id: summary_subtotal_label
                        size_hint_y: '20sp'
                        size_hint_x: 0.2
                        text_size: self.size
                        halign: 'left'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000]$0.00[/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        padding_x:20
                        size_hint_y: '20sp'
                        size_hint_x: 0.8
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000][b]Discount[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        id: summary_discount_label
                        size_hint_y: '20sp'
                        size_hint_x: 0.2
                        text_size: self.size
                        halign: 'left'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000]($0.00)[/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        padding_x:20
                        size_hint_y: '20sp'
                        size_hint_x: 0.8
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000][b]Tax[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        id: summary_tax_label
                        size_hint_y: '20sp'
                        size_hint_x: 0.2
                        text_size: self.size
                        halign: 'left'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000]$0.00[/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size

                    Label:
                        padding_x:20
                        size_hint_y: '20sp'
                        size_hint_x: 0.8
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000][b]Total[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    Label:
                        id: summary_total_label
                        size_hint_y: '20sp'
                        size_hint_x: 0.2
                        text_size: self.size
                        halign: 'left'
                        valign: 'middle'
                        markup: True
                        text: "[color=000000][b]$0.00[/b][/color]"
                        font_size:'15sp'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1,0.1
            Button:
                markup:True
                text:'[color=ffffff]Cancel[/color]'
                on_press: root.set_result_status()
                on_release: app.root.current = "search"
            Button:
                id: date_picker
                markup:True
                text:'[color=ffffff]6/4 Tue[/color]'
                on_release: root.make_calendar()
            Button:
                markup: True
                text:'[color=ffffff]+/- Memo,Color[/color]'
                on_release: root.make_memo_color()
            Button:
                markup: True
                text: '[color=ffffff]Adjust[/color]'
                on_release: root.make_adjust()

            Button:
                markup: True
                text: '[color=ffffff]Print[/color]'
                on_release: root.print_selection()

