<SearchScreen>:
    id: screen_search
    search: search
    cust_last_name: customer_last_name_ti
    cust_first_name: customer_first_name_ti
    cust_phone: customer_phone_ti
    cust_last_drop: customer_last_drop_ti
    cust_starch: customer_starch_ti
    cust_credit: customer_credit_ti
    cust_invoice_memo: customer_invoice_memo_ti
    cust_important_memo: customer_important_memo_ti
    invoice_table: invoice_table
    cust_mark_label: customer_mark_l
    history_btn: history_btn
    edit_invoice_btn: edit_invoice_btn
    edit_customer_btn: edit_customer_btn
    print_card_btn: print_card_btn
    reprint_btn: reprint_btn
    quick_btn: quick_btn
    pickup_btn: pickup_btn
    dropoff_btn: dropoff_btn
    search_popup: search_popup
    search_results_table: search_results_table
    search_results_footer: search_results_footer
    name:"search"
    on_enter: root.reset()
    BoxLayout:
        orientation: 'horizontal'
        size_hint: 1,0.1
        pos_hint: {'top':1}
        TextInput:
            id: search
            font_size:'30sp'
            hint_text: "Search Customers"
            multiline: False
            on_text_validate: root.search_customer()
            text: ''
        Button:
            on_release: root.search_customer()
            font_size:'20sp'
            text: "Search"
        Button:
            on_release: app.root.current = "calc"
            font_size:'20sp'
            text: "Calculator"
        Button:
            on_release: app.root.current = "rack"
            font_size:'20sp'
            text: "Rack"
        Button:
            on_release: app.root.current = "main"
            font_size:'20sp'
            text: "Main"
    Popup:
        id: search_popup
        on_parent: if self.parent == screen_search: screen_search.remove_widget(self)
        BoxLayout:
            orientation: 'vertical'
            GridLayout:
                id:search_results_table
                size_hint: 1,0.9
                cols:5
                rows:10
                row_force_default: True
                row_default_height:50
            BoxLayout:
                id:search_results_footer
                size_hint: 1,0.1
                Button:
                    size_hint_y:None
                    markup: True
                    text: 'Cancel'
                    on_press: search_popup.dismiss()

    BoxLayout:
        orientation: 'horizontal'
        size_hint: 1,0.80
        pos_hint: {'top':0.90}
        GridLayout:
            size_hint: 0.6, 1
            cols: 2
            rows: 11
            font_size:'20sp'
            row_force_default: True
            row_default_height: '50sp'
            Label:
                text: "Customer Info"
                size_hint_y: None
            Label:
                id: customer_mark_l
                text: ""
                size_hint_y: None
            Label:
                text: "Last Name"
                text_size: self.size
                padding_x:10
                font_size:'20sp'
                halign: 'right'
                valign: 'middle'
                size_hint_y: None
            TextInput:
                id: customer_last_name_ti
                size_hint_y: None
                hint_text: "Last Name"
                height: '32sp'
                font_size:'20sp'
                multiline: False
                readonly: True
                padding: [5,5,5,5]
                text: ''
            Label:
                text: "First Name"
                padding_x:10
                font_size:'20sp'
                halign: 'right'
                valign: 'middle'
                text_size: self.size
                size_hint_y: None
            TextInput:
                id: customer_first_name_ti
                size_hint_y: None
                font_size:'20sp'
                hint_text: "First Name"
                height: '32sp'
                multiline: False
                readonly: True
                padding: [5,5,5,5]
                text: ''
            Label:
                text: "Phone"
                padding_x:10
                font_size:'20sp'
                halign: 'right'
                valign: 'middle'
                text_size: self.size
                size_hint_y: None
            TextInput:
                id: customer_phone_ti
                size_hint_y: None
                font_size:'20sp'
                hint_text: "(xxx) xxx-xxxx"
                height: '32sp'
                multiline: False
                readonly: True
                padding: [5,5,5,5]
                text: ''
            Label:
                text: "Last Drop"
                padding_x:10
                font_size:'20sp'
                halign: 'right'
                valign: 'middle'
                text_size: self.size
                size_hint_y: None
            TextInput:
                id: customer_last_drop_ti
                size_hint_y: None
                font_size:'20sp'
                hint_text: "Last Drop"
                height: '32sp'
                multiline: False
                readonly: True
                padding: [5,5,5,5]
                text: ''
            Label:
                text: "Starch"
                padding_x:10
                font_size:'20sp'
                halign: 'right'
                valign: 'middle'
                text_size: self.size
                size_hint_y: None
            TextInput:
                id: customer_starch_ti
                size_hint_y: None
                font_size:'20sp'
                hint_text: "Starch"
                height: '32sp'
                multiline: False
                readonly: True
                padding: [5,5,5,5]
                text: ''
            Label:
                text: "Credit"
                padding_x:10
                font_size:'20sp'
                halign: 'right'
                valign: 'middle'
                text_size: self.size
                size_hint_y: None
            TextInput:
                id: customer_credit_ti
                size_hint_y: None
                font_size:'20sp'
                hint_text: "Credit"
                height: '32sp'
                multiline: False
                readonly: True
                padding: [5,5,5,5]
                text: ''
            Label:
                text: "Invoice Memo"
                padding_x:10
                font_size:'20sp'
                halign: 'right'
                valign: 'middle'
                text_size: self.size
                size_hint_y: None
            TextInput:
                id: customer_invoice_memo_ti
                hint_text: "Invoice Memo"
                font_size:'20sp'
                height: '64sp'
                multiline: True
                readonly: True
                padding: [5,5,5,5]
                text: ''
            Label:
                text: "Important Memo"
                padding_x:10
                font_size:'20sp'
                halign: 'right'
                valign: 'middle'
                text_size: self.size
                size_hint_y: None
            TextInput:
                id: customer_important_memo_ti
                hint_text: "Important Memo"
                font_size:'20sp'
                height: '64sp'
                multiline: True
                readonly: True
                padding: [5,5,5,5]
                text: ''
        GridLayout:
            cols: 2
            GridLayout:
                id:invoice_table
                cols: 5
                spacing: 2
                row_force_default:True
                row_default_height:50
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Label:
                    size_hint_y: None
                    markup: True
                    text: "[color=000000][b]Inv[/b][/color]"
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    size_hint_y: None
                    markup: True
                    text: "[color=000000][b]Due[/b][/color]"
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    size_hint_y: None
                    markup: True
                    text: "[color=000000][b]Rack[/b][/color]"
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    size_hint_y: None
                    markup: True
                    text: "[color=000000][b]Qty[/b][/color]"
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    size_hint_y: None
                    markup: True
                    text: "[color=000000][b]Total[/b][/color]"
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1
                        Rectangle:
                            pos: self.pos
                            size: self.size

            BoxLayout:
                orientation: 'vertical'
                size_hint: 0.20,1
                Button:
                    id: up_btn
                    on_release: root.up()
                    text: "Up"
                    disabled: True
                Button:
                    id: down_btn
                    on_release: root.down()
                    text: "Down"
                    disabled: True
                Button:
                    id: edit_invoice_btn
                    on_release: root.edit()
                    text: "Edit"
                    disabled: True
                Button:
                    id: history_btn
                    on_release: root.history()
                    text: "History"
                    disabled: True
    GridLayout:
        cols: 9
        size_hint: 1,0.1
        pos_hint: {'bottom':1}

        Button:
            on_release: app.root.current = "new_customer"
            text: "New"
        Button:
            id: edit_customer_btn
            on_release: app.root.current = "edit_customer"
            text: "Edit Customer"
            disabled: True
        Button:
            id: print_card_btn
            on_release: app.root.current = "rack"
            text: "Print Card"
            disabled: True
        Button:
            on_release: app.root.current = 'last10'
            text: "Last 10"
        Button:
            id: reprint_btn
            on_release: app.root.current = "invoice"
            text: "Reprint"
            disabled: True
        Button:
            id: quick_btn
            on_release: app.root.current = "calc"
            text: "Quick"
            disabled: True
        Button:
            id: pickup_btn
            on_release: app.root.current = "rack"
            text: "Pickup"
            disabled: True
        Button:
            id: dropoff_btn
            on_release: app.root.current = "main"
            text: "Dropoff"
            disabled: True